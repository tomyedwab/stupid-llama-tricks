<!DOCTYPE html>
<html lang="en">
    <head>
        <title>stupid-llama-tricks playground</title>
         <meta charset="UTF-8">
        <script src="js/util.js"></script>
        <script src="js/results.js"></script>
        <script src="js/operation-editor.js"></script>
        <script src="main.js"></script>
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <h1>stupid-llama-tricks playground</h1>

        <template id="operation-editor-text">
            <label class="index"></label>
            <div class="body">
                <h2>Text input</h2>
                <form class="parameters">
                    <label class="row-role">Role</label>
                    <div class="row-role radio-group">
                        <label><input type="radio" name="role" value="system">System</label>
                        <label><input type="radio" name="role" value="user">User</label>
                        <label><input type="radio" name="role" value="assistant">Assistant</label>
                    </div>
                    <div class="type-parameters">
                        <div class="text-input-wrapper">
                            <textarea></textarea>
                            <div class="indicator">...</div>
                        </div>
                    </div>
                </form>
                <div class="button-bar">
                    <button class="add">+ Add...</button>
                    <button class="remove">- Remove</button>
                    <button class="help">? Help</button>
                </div>
            </div>
        </template>

        <template id="operation-editor-completion">
            <label class="index"></label>
            <div class="body">
                <h2>LLM completion</h2>
                <form class="parameters">
                    <label class="row-role">Role</label>
                    <div class="row-role radio-group">
                        <label><input type="radio" name="role" value="system">System</label>
                        <label><input type="radio" name="role" value="user">User</label>
                        <label><input type="radio" name="role" value="assistant">Assistant</label>
                    </div>
                    <div class="type-parameters">
                        <label>
                            Max tokens:
                            <input name="maxTokens" type="number" value="300">
                        </label>
                    </div>
                </form>
                <div class="button-bar">
                    <button class="add">+ Add...</button>
                    <button class="remove">- Remove</button>
                    <button class="help">? Help</button>
                </div>
            </div>
        </template>

        <template id="operation-editor-branch">
            <label class="index"></label>
            <div class="body">
                <h2>Branch</h2>
                <form class="parameters">
                    <label class="row-role">Role</label>
                    <div class="row-role radio-group">
                        <label><input type="radio" name="role" value="system">System</label>
                        <label><input type="radio" name="role" value="user">User</label>
                        <label><input type="radio" name="role" value="assistant">Assistant</label>
                    </div>
                    <div class="type-parameters">
                        <label class="row-role">View branch:</label>
                        <div class="branch-selector radio-group">
                        </div>
                        <div class="button-bar">
                            <button class="add-branch">+ Add branch</button>
                            <button class="remove-branch">- Remove branch</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="button-bar below-child-operations">
                <button class="add">+ Add...</button>
                <button class="remove">- Remove</button>
                <button class="help">? Help</button>
            </div>
        </template>

        <div class="operation-editor" id="main-editor">
            <div class="body is-root is-container">
                <h2>Model selection</h2>
                <div>TODO: Add model selection</div>
            </div>
            <div class="child-operations" id="main-operations">
            </div>
        </div>

        <div id="results"></div>
        <div class="action-bar">
            <button id="submit">Run all</button>
        </div>

        <dialog id="add-operation-dialog">
            <h2>Choose a type of operation to add:</h2>
            <form method="dialog">
                <label><input type="radio" name="type" value="text">Text input</label>
                <label><input type="radio" name="type" value="completion">LLM completion</label>
                <label><input type="radio" name="type" value="branch">Branch</label>
                <button class="cancel">Cancel</button>
                <button class="ok">OK</button>
            </form>
        </dialog>

    </body>
</html>